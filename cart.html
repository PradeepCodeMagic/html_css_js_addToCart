<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="w">
    <header id="title">
      <h1>HTML5/CSS3 Shopping Cart UI</h1>
    </header>
    <div id="page">
      <table id="cart">
        <thead>
          <tr>
            <th class="first">Photo</th>
            <th class="third">Product</th>
            <th class="fourth">Line Total</th>
            <th class="fifth">&nbsp;</th>
          </tr>
        </thead>
        <tbody id="tbody">

          
          <!-- checkout btn -->
          <!-- <tr class="checkoutrow">
            <td colspan="5" class="checkout"><button id="submitbtn">Checkout Now!</button></td>
          </tr> -->

        </tbody>
      </table>
    </div>
  </div>
</body>

<script>

  let cartData = JSON.parse(localStorage.getItem("addTocart")) ?? [];
  let tbody=document.querySelector("#tbody")


  function showCartItem() {
    tbody.innerHTML =""
    cartData.map((v, i) => {
      tbody.innerHTML+=`
          <tr class="productitm">
          
            <td><img src=${v.thumbnail} class="thumb"></td>
            <td> ${v.title} </td>
            <td>$ ${v.price} </td>
            <td><span class="remove" onclick="DeleteItem( ${i} )" ><img src="https://i.imgur.com/h1ldGRr.png" alt="X"></span></td>
          </tr>
      `
    })
  }

  showCartItem()

  function DeleteItem(myId){
    cartData.splice(myId,1)

    localStorage.setItem("addTocart", JSON.stringify(cartData));

    showCartItem()
  }


</script>

</html>